- app(kafka):
    - config_from_files: # 文件list
        - ./server.properties
    - containers:
        zookeeper:
          image: wurstmeister/zookeeper
          env:
            TZ: Asia/Shanghai
          ports:
            - "2181:2181"
          volumes:
#            - /data/zookeeper/:/opt/zookeeper-3.4.13/data:rw
        kafka:
          image: registry.cn-hangzhou.aliyuncs.com/k8s-image01/kafka:2.13-2.8.0
          command: exec kafka-server-start.sh /opt/kafka/config/server.properties
          ports:
            - "9092:9092:9092"
          env:
            TZ: Asia/Shanghai
          volumes:
#            - /data/kafka/:/kafka:rw
            - config://server.properties:/opt/kafka/config/server.properties:ro
        kafka-manager:
          image: sheepkiller/kafka-manager # web管理界面
          env:
              ZK_HOSTS: localhost
          ports:
            - "9100:9000"
    # 部署
    - deploy:
        replicas: 1 # 副本数
        nodeSelector: # 节点选择: dict形式
          kubernetes.io/hostname: hww-pc
