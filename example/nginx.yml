- app(nginx):
    - config:
        auther: shigebeyond
        nginx.conf: ${read_file(./nginx.conf)}
    - containers:
        nginx:
          image: nginx
          env:
            TZ: Asia/Shanghai
          ports:
            #- 30000:80 # 服务端口:容器端口
            - 30000:30000:80 # 宿主机端口:服务端口:容器端口
            #- udp://30000:80 # 前面加协议
          volumes:
            - /lnmp/www:/www
            # nginx配置文件挂载： https://blog.csdn.net/weixin_47415962/article/details/116003059
            - config://nginx.conf:/etc/nginx/nginx.conf
     # 简写
#    - rc: 1
#    - rs: 1
#    - ds: 1
#    - sts: 1
#    - deploy: 1

    # 完整写法
#    - rc:
#        replicas: 1
#    - rs:
#        replicas: 1
#    - ds:
#        replicas: 1
#    - sts:
#        replicas: 1
    - deploy:
        replicas: 1 # 副本数
        node: # 节点过滤
          beta.kubernetes.io/os: linux
        tolerations: # 容忍
#          - node-role.kubernetes.io/master:NoSchedule
          - node-role.kubernetes.io/control-plane:NoSchedule
